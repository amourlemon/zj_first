<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
<script>
    console.log(new Date()); // Mon Jan 17 2022 11:36:55 GMT+0800 (中国标准时间)
    function timeDifference(format = '剩余DD天hh时mm分ss秒') {
        let start = new Date(); // 开始时间
        let end = new Date('Mon Jan 19 2022 16:30:00 GMT+0800'); // 结束时间
        let startDate = new Date(start).getTime();
        let endDate = new Date(end).getTime();
        let dateCha = endDate - startDate;
        //计算出相差天数
        let days = Math.floor(dateCha / (24 * 3600 * 1000));
        //计算出小时数
        let leave1 = dateCha % (24 * 3600 * 1000); //计算天数后剩余的毫秒数
        let hours = Math.floor(leave1 / (3600 * 1000));
        //计算相差分钟数
        let leave2 = leave1 % (3600 * 1000); //计算小时数后剩余的毫秒数
        let minutes = Math.floor(leave2 / (60 * 1000)); // 分
        //计算相差秒数
        let leave3 = leave2 % (60 * 1000); //计算分钟数后剩余的毫秒数
        let seconds = Math.round(leave3 / 1000); // 秒

        let preArr = Array.apply(null, Array(10)).map(function (elem, index) {
            return  index;
        });
        let newTime = format.replace(/DD/g, preArr[days] || days)
      .replace(/hh/g, preArr[hours] || hours)
      .replace(/mm/g, preArr[minutes] || minutes)
      .replace(/ss/g, preArr[seconds] || seconds);
      if (dateCha > 0) return newTime 
      return '已完结'

    }

    // console.log(timeDifference());

/**
 * @param {number[]} prices
 * @return {number}
 */
 var maxProfit = function(prices) {
    let sum = 0;
    let sum1 = 0;
    let min = prices[0];
    let tempSum =  0
    debugger
    for(let i = 1; i < prices.length; i++) {
        if(min > prices[i]) {
            min = prices[i];
        }
        sum1 = prices[i] -min;          
        tempSum = Math.max(tempSum, prices[i] - min)
        if(prices[i+1]) {
            let sum2 = 0;
            let min2 = prices[i+1];
            for(let j = i+2; j < prices.length; j++) {
                if(min2 > prices[j]) {
                    min2 = prices[j]
                }
                sum2 = Math.max(sum2, prices[j] - min2);
                sum = Math.max(sum, sum1+sum2);
            }
        }
        sum = Math.max(sum, tempSum)
    }
    return sum
};
console.log(maxProfit(
    [2,1,4,5,2,9,7]));


</script>
</body>
</html>